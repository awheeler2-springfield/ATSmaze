<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ATS Resume Maze â€” Stable Grid</title>

<style>
:root{
  --bg:#f3f3f3;
  --paper:#fff;
  --ink:#111;
  --ui:#ddd;
  --yellow:#ffe86a;
  --red:#ff8a8a;
}

body{ margin:0; background:var(--bg); font-family:Georgia, serif; }

.rail{
  position:fixed; left:0; top:0;
  width:300px; height:100vh;
  background:#fff;
  border-right:1px solid var(--ui);
  padding:14px;
  overflow:auto;
}

.page{ margin-left:300px; padding:30px 20px; }

.resume{
  max-width:960px;
  margin:0 auto;
  background:#fff;
  padding:50px 70px;
  box-shadow:0 2px 14px rgba(0,0,0,.08);
}

.section{ margin-top:28px; }
.section-title{ font-weight:bold; border-bottom:1px solid #000; padding-bottom:4px; }

.node{
  display:inline-block;
  padding:2px 3px;
  border-radius:2px;
  cursor:pointer;
}

.active{ background:var(--yellow); }
.visited{ background:var(--yellow); opacity:.9; }
.bad{ background:var(--red); }

</style>
</head>
<body>

<div class="rail">
  <h2>ATS Resume Maze</h2>
  <p id="stats">Moves: 0 | ATS Hits: 0 | Score: 100</p>
  <div id="report"></div>
  <button onclick="reset()">New Round</button>
</div>

<div class="page">
<div class="resume">

<div class="section"><div class="section-title">HEADER</div><p id="header"></p></div>
<div class="section"><div class="section-title">SUMMARY</div><p id="summary"></p></div>
<div class="section"><div class="section-title">SKILLS</div><p id="skills"></p></div>
<div class="section"><div class="section-title">PROFESSIONAL EXPERIENCE</div><div id="experience"></div></div>
<div class="section"><div class="section-title">EDUCATION</div><p id="education"></p></div>

</div>
</div>

<script>

let nodes=[];
let edges=new Map();
let current=null;
let moves=0;
let hits=0;

function addNode(el,x,y,section,trap=false){
  const id=nodes.length;
  el.dataset.id=id;
  nodes.push({id,x,y,section,trap});
  el.onclick=()=>handleClick(id);
  return id;
}

function connect(a,b){
  if(!edges.has(a)) edges.set(a,new Set());
  if(!edges.has(b)) edges.set(b,new Set());
  edges.get(a).add(b);
  edges.get(b).add(a);
}

function handleClick(id){
  if(current===null){ activate(id); return; }
  if(edges.get(current)?.has(id)) moveTo(id);
}

function moveTo(id){
  moves++;
  activate(id);
  if(nodes[id].trap){
    document.querySelector(`[data-id="${id}"]`).classList.add("bad");
    hits++;
  }
  updateStats();
  checkComplete();
}

function activate(id){
  document.querySelectorAll(".active").forEach(e=>e.classList.remove("active"));
  let el=document.querySelector(`[data-id="${id}"]`);
  el.classList.add("active","visited");
  current=id;
}

function updateStats(){
  let score=Math.max(0,100 - hits*10 - Math.floor(moves/5));
  document.getElementById("stats").textContent=
  `Moves: ${moves} | ATS Hits: ${hits} | Score: ${score}`;
}

function checkComplete(){
  if(nodes[current].section==="education"){
    document.getElementById("report").innerHTML=
      `<h3>Run Complete</h3>
       <p>Moves: ${moves}</p>
       <p>ATS Hits: ${hits}</p>`;
  }
}

function build(){
  nodes=[]; edges.clear(); moves=0; hits=0; current=null;
  document.getElementById("report").innerHTML="";
  document.getElementById("stats").textContent="Moves: 0 | ATS Hits: 0 | Score: 100";

  // HEADER
  let h=document.getElementById("header"); h.innerHTML="";
  let h1=addNode(span("FIRST"),0,0,"header");
  let h2=addNode(span("LAST"),1,0,"header");
  h.appendChild(getEl(h1)); h.appendChild(getEl(h2));
  connect(h1,h2);

  // SUMMARY
  let s=document.getElementById("summary"); s.innerHTML="";
  let s1=addNode(span("Data-driven"),0,1,"summary");
  let s2=addNode(span("analytics"),1,1,"summary");
  let s3=addNode(span("professional"),2,1,"summary");
  [s1,s2,s3].forEach(id=>s.appendChild(getEl(id)));
  connect(s1,s2); connect(s2,s3);

  // SKILLS
  let sk=document.getElementById("skills"); sk.innerHTML="";
  let sk1=addNode(span("GA4"),0,2,"skills");
  let sk2=addNode(span("SEO"),1,2,"skills");
  let sk3=addNode(span("Skill-Bars"),2,2,"skills",true);
  [sk1,sk2,sk3].forEach(id=>sk.appendChild(getEl(id)));
  connect(sk1,sk2); connect(sk2,sk3);

  // EXPERIENCE GRID
  buildExperience();

  // EDUCATION
  let e=document.getElementById("education"); e.innerHTML="";
  let ed=addNode(span("B.A."),0,20,"education");
  e.appendChild(getEl(ed));
}

function buildExperience(){
  let exp=document.getElementById("experience");
  exp.innerHTML="";
  let start=nodes.length;
  let size=8;

  for(let y=0;y<size;y++){
    for(let x=0;x<size;x++){
      let trap=Math.random()<0.12;
      let id=addNode(span(trap?"TABLE":"optimized"),x,5+y,"experience",trap);
      exp.appendChild(getEl(id));
      if(x>0) connect(id-1,id);
      if(y>0) connect(start+(y-1)*size+x,id);
    }
    exp.appendChild(document.createElement("br"));
  }
}

function span(text){
  let s=document.createElement("span");
  s.className="node";
  s.textContent=text+" ";
  return s;
}

function getEl(id){
  return document.querySelector(`[data-id="${id}"]`);
}

function reset(){ build(); }

build();

</script>
</body>
</html>
